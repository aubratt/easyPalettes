{% extends "auctions/layout.html" %}

{% block body %}
    <h2>{{ request.user }}'s Watchlist</h2>

    {% if userwl %}
        <div class="container-fluid">
            <div class="row">
                {% for item in userwl %}
                    <div class="col-md-4 mb-4">
                        <div class="card h-100">
                            {% if item.listing.image %}
                                <img class="card-img-top" style="align-items: center; max-width: 100%; max-height: 500px; height: auto; width: auto; object-fit: contain;" src="{{ item.listing.image }}" alt="Product Image">
                            {% else %}
                                <img style="align-items: center; max-width: 100%; max-height: 500px; height: auto; width: auto; object-fit: contain;" src="https://static.vecteezy.com/system/resources/previews/022/014/063/original/missing-picture-page-for-website-design-or-mobile-app-design-no-image-available-icon-vector.jpg" alt="Default Image">
                            {% endif %}
                            <div class="card-body">
                                <h5 class="card-title">{{ item.listing.title }}</h5>
                                <p class="card-text" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ item.listing.description }}</p>
                                <p class="card-text">${{ item.listing.current_price }}</p>
                                <a href="{% url 'listing' item.listing.slug %}" class="btn btn-primary">View Listing</a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% else %}
        <p style="color: gray;">{{ message }}</p>
    {% endif %}
{% endblock %}